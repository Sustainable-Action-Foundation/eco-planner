/* TODO SIDENAV: A bunch of magic numbers, fix this :)*/
/* TODO SIDENAV: A bunch of wonky selectors, fix this :)*/

/* Main sidebar */
.aside {
  position: sticky;
  top: 0;
  height: 100dvh;
  border-right: 1px solid silver;
  interpolate-size: allow-keywords;
  transition: width .2s ease-out;

  @media (max-width: 1250px) {
    z-index: 8;
    background-color: rgba(255,255,255,.95);
    backdrop-filter: blur(2px);
    border-bottom: 1px solid silver;
    border-right: 0;
    width: 100%;
    height: unset;
  }
}

/* Sidebar header (toggle open/closed) */
.aside > header:first-of-type label { 
  margin-left: 4px; /* TODO SIDENAV: Magic number */
  transition: background-color .1s ease;
  @media (max-width: 1250px) {
    z-index: 10;
  }
}

.aside > header:first-of-type label:hover {
  background-color: #e0e6eb;
}

.aside:has(.sidebar-toggle:checked) > .sidebar-menu {
  /* WIDTH: Largest image size, padding aside, padding links, border aside*/
  @media (min-width: 1251px) {
    width: initial;
  }

  @media (max-width: 1250px) {
    transform: translateX(-100%);
  }
} 

/* Sidebar menu (collection of action items such as links and buttons) */
.aside > .sidebar-menu {
  width: calc(24px + (1rem * 2 + .5rem * 2)); /* TODO SIDENAV: Magic number */
  interpolate-size: allow-keywords;
  transition: width .2s ease-out, transform .2s ease-out;

  @media (max-width: 1250px) {
    transform: translateX(0);

    position: absolute;
    z-index: 9;
    top: 0;

    width: initial;
    height: 100dvh;
    border-right: 1px solid silver;
    background-color: white;
    /* Image height + image margin-block + image-padding-block + padding-top */
    padding-top: calc(1rem * 2 + 24px + .25rem * 2 + 1rem); /* TODO SIDENAV: Magic number */
  }
}

/* Sidebar items */
/* TODO: Maybe apply properties which do not apply to all anchor tags and buttons (CTA and the rest) as utility classes instead? */  
.sidebar-menu > * > a,
.sidebar-menu > * > button {
  display: flex;
  align-items: center;
  width: 100%;
  padding: .5rem;
  padding-right: calc(.5rem + 10px); /* TODO: Magic number */
  border-radius: .5rem;
  color: black;
  text-decoration: none;
  transition: background-color .1s ease;
  overflow: hidden;
  white-space: nowrap;
  gap: 10px; /* TODO: Magic number */
} 

.sidebar-menu a:hover,
.sidebar-menu button:hover {
  background-color: #e0e6eb;
  box-shadow: none; /* TODO: Might be good to remove box shadows from the semantic style sheet hover class so we don't need to constantly overwrite it */ 
}

/* Link to signup page styled seperately from other links as a CTA */
.sidebar-menu > * > a[href="/signup"] {
  color: white;
  border-radius: 9999px;
  transition: box-shadow .1s ease;  
}

.sidebar-menu > * > a[href="/signup"]:hover {
  background-color: seagreen;
  box-shadow: inset 0 0 999px rgba(0, 0, 0, 0.1);
}

/* TODO SIDENAV: Figure out a way to deal with margins of the links icons */ 

/* TODO SIDENAV: Apply globally? */
/* Prevent flexbox from resizing svg elements by setting min width of commonly used widths */ 
.aside svg[width="24"] {
  min-width: 24px;
}

.aside svg[width="20"] {
  min-width: 20px;
}

.aside svg[width="16"] {
  min-width: 16px;
}

